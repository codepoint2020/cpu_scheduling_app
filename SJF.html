<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SJF CPU Scheduling</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 8px;
        }
        table {
            width: 100%;
        }
        input {
            margin-right: 10px;
        }
        button {
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <h1>SJF CPU Scheduling (Non-preemptive)</h1>

    <div>
        <label for="processName">Process Name: </label>
        <input type="text" id="processName">
        <label for="burstTime">Burst Time: </label>
        <input type="number" id="burstTime">
        <button onclick="addProcess()">Insert Process</button>
    </div>

    <h3>Processes</h3>
    <table id="processTable">
        <tr>
            <th>Process Name</th>
            <th>Burst Time</th>
        </tr>
    </table>

    <button onclick="calculateSJF()">Calculate SJF</button>

    <h3>Results</h3>
    <table id="resultTable">
        <tr>
            <th>Process Name</th>
            <th>Burst Time</th>
            <th>Waiting Time</th>
            <th>Turnaround Time</th>
        </tr>
    </table>

    <h3>Average Waiting Time: <span id="avgWaitingTime"></span></h3>

    <script>
        let processes = [];

function addProcess() {
    const processName = document.getElementById("processName").value;
    const burstTime = parseFloat(document.getElementById("burstTime").value);

    if (processes.length >= 10) {
        alert("Maximum of 10 processes reached.");
        return;
    }

    if (!processName || isNaN(burstTime)) {
        alert("Please provide valid inputs for process name and burst time.");
        return;
    }

    processes.push({ processName, burstTime });

    displayProcesses();
    clearInputs();
}

function displayProcesses() {
    const table = document.getElementById("processTable");
    table.innerHTML = `
        <tr>
            <th>Process Name</th>
            <th>Burst Time</th>
        </tr>`;

    processes.forEach(process => {
        const row = table.insertRow();
        row.insertCell(0).innerText = process.processName;
        row.insertCell(1).innerText = process.burstTime;
    });
}

function clearInputs() {
    document.getElementById("processName").value = '';
    document.getElementById("burstTime").value = '';
}

function calculateSJF() {
    let currentTime = 0;
    let totalWaitingTime = 0;
    const results = [];
    
    processes.sort((a, b) => a.burstTime - b.burstTime);

    processes.forEach(process => {
        const waitingTime = currentTime;
        const turnaroundTime = waitingTime + process.burstTime;
        
        results.push({
            processName: process.processName,
            burstTime: process.burstTime,
            waitingTime,
            turnaroundTime
        });

        currentTime += process.burstTime;
        totalWaitingTime += waitingTime;
    });

    displayResults(results);

    const avgWaitingTime = totalWaitingTime / processes.length;
    document.getElementById("avgWaitingTime").innerText = avgWaitingTime.toFixed(2);
}

function displayResults(results) {
    const table = document.getElementById("resultTable");
    table.innerHTML = `
        <tr>
            <th>Process Name</th>
            <th>Burst Time</th>
            <th>Waiting Time</th>
            <th>Turnaround Time</th>
        </tr>`;

    results.forEach(result => {
        const row = table.insertRow();
        row.insertCell(0).innerText = result.processName;
        row.insertCell(1).innerText = result.burstTime;
        row.insertCell(2).innerText = result.waitingTime;
        row.insertCell(3).innerText = result.turnaroundTime;
    });
}

    </script>

</body>
</html>
